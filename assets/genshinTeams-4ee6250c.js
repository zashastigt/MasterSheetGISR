import{r as c,j as e,c as w,R as E}from"./client-18074b33.js";import{a as G}from"./searchBar-ac0b2415.js";const F=Object.assign({});function J(h){const[a,v]=c.useState(h.characters),[o,j]=c.useState(()=>{const s=localStorage.getItem("ownedList");return JSON.parse(s)||{}}),[n,m]=c.useState(()=>{const s=localStorage.getItem("teamList");return JSON.parse(s)||{}}),[r,L]=c.useState(()=>{const s=localStorage.getItem("usedList");return JSON.parse(s)||[]}),[S,O]=c.useState(!1),[f,p]=c.useState(!1);c.useEffect(()=>{localStorage.setItem("ownedList",JSON.stringify(o)),localStorage.setItem("teamList",JSON.stringify(n)),localStorage.setItem("usedList",JSON.stringify(r))},[o,n,r]);const d=s=>`https://api.ambr.top/assets/UI/${s}.png`,N=s=>{console.log(Object.values(n[s]));const{[s]:i,...t}=n;m(t),console.log(r),r.filter(u=>!Object.values(n[s]).includes(u)),console.log(r)},I=s=>{const i=()=>{switch(a[s.character].element){case"Wind":return F["../assets/GenshinElementImgs/anemo.svg"].default;case"Ice":return"../../assets/GenshinElementImgs/cryo.svg";case"Grass":return"../../assets/GenshinElementImgs/dendro.svg";case"Electric":return"../../assets/GenshinElementImgs/electro.svg";case"Rock":return"../../assets/GenshinElementImgs/geo.svg";case"Water":return"../../assets/GenshinElementImgs/hydro.svg";case"Fire":return"../../assets/GenshinElementImgs/pyro.svg"}};return e.jsxs("div",{id:"characterPortrait",style:{borderColor:s.borderColor},onClick:s.clickFunction,children:[e.jsx("img",{className:"elementImg",alt:"elem",src:i()}),e.jsx("img",{draggable:!1,className:"characterImg",alt:"pic",src:d(a[s.character].icon)}),e.jsx("div",{children:a[s.character].name})]})};function T(){const s=t=>{j({...o,[t]:a[t]})},i=t=>{const{[t]:u,...x}=o;j(x)};return e.jsx("div",{className:"popUp",children:e.jsx("div",{id:"characterList",children:Object.keys(a).map(t=>e.jsx("div",{children:e.jsx(I,{character:t,borderColor:Object.keys(o).includes(t)?"darkgreen":"darkred",clickFunction:()=>{Object.keys(o).includes(t)?i(t):s(t)}})},t))})})}function b(s){return e.jsx("div",{id:"ownedList",children:Object.keys(o).map(i=>{if(!r.includes(i))return e.jsx("div",{children:e.jsx(I,{character:i,clickFunction:()=>{s.addToTeam(i)}})},i)})})}function k(){return e.jsx("div",{id:"teamlist",children:Object.keys(n).map(s=>e.jsxs("div",{className:"team",children:[e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:d(a[n[s][1]].icon)}),e.jsx("span",{children:a[n[s][1]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:d(a[n[s][2]].icon)}),e.jsx("span",{children:a[n[s][2]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:d(a[n[s][3]].icon)}),e.jsx("span",{children:a[n[s][3]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:d(a[n[s][4]].icon)}),e.jsx("span",{children:a[n[s][4]].name})]}),e.jsx("div",{onClick:()=>N(s),children:"Remove"})]},s))})}function y(){const[s,i]=c.useState(""),[t,u]=c.useState({1:void 0,2:void 0,3:void 0,4:void 0});console.log(Object.keys(n).includes(s));const x=l=>{for(let g=1;g<=4;g++)if(t[g]===void 0&&!Object.values(t).includes(l)){u({...t,[g]:l});break}},C=l=>{u({...t,[l]:void 0})};return Object.keys(n).includes(s),e.jsxs("div",{id:"addTeam",className:"popUp",children:[e.jsxs("div",{id:"addTeamBox",children:[e.jsx("input",{className:"searchBox",type:"text",placeholder:"New team name",onChange:l=>{i(l.target.value)}}),e.jsxs("div",{className:"team",children:[Object.keys(t).map(l=>e.jsx("div",{className:"teamSlot",onClick:()=>C(l),children:t[l]===void 0?"+":e.jsx("img",{className:"characterImg",alt:"pic",src:d(a[t[l]].icon)})},l)),e.jsx("div",{onClick:()=>{Object.values(t).includes(void 0)&&!Object.keys(n).includes(s)?console.log("nope"):(m({...n,[s]:t}),L([...r,t[1],t[2],t[3],t[4]]))},children:"Add Team"})]})]}),e.jsx("div",{id:"addTeamCharacters",children:e.jsx(b,{addToTeam:x})})]})}return e.jsxs("div",{className:"TeamContainer",children:[e.jsx("button",{onClick:()=>O(!S),children:"Show Full List"}),e.jsx("button",{onClick:()=>p(!f),children:"Show Add Team"}),S&&e.jsx(T,{list:a}),f&&e.jsx(y,{}),e.jsx(k,{})]})}function R(){const[h,a]=c.useState({}),[v,o]=c.useState(!0);if(c.useState(""),c.useState([]),c.useEffect(()=>{G().then(async n=>{a(n.data.items),o(!1)})},[]),v)return e.jsx("div",{children:"Loading..."});const j=n=>Object.keys(h).reduce((m,r)=>(n.includes(r)||(m[r]=h[r]),m),{});return e.jsx(e.Fragment,{children:e.jsx(J,{characters:()=>j(["10000005-anemo","10000005-dendro","10000005-electro","10000005-geo","10000005-hydro"])})})}w.createRoot(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:e.jsx("div",{className:"container",children:e.jsx(R,{})})}));
