import{j as e,r as c,c as b,R as w}from"./client-18074b33.js";import{_ as T,a as O,b as G,c as N,d as k,e as y,f as E,H as C,h as F}from"./header-c1b89668.js";function v(s){const n=Object.assign({"../../../assets/GenshinElementImgs/anemo.svg":T,"../../../assets/GenshinElementImgs/cryo.svg":O,"../../../assets/GenshinElementImgs/dendro.svg":G,"../../../assets/GenshinElementImgs/electro.svg":N,"../../../assets/GenshinElementImgs/geo.svg":k,"../../../assets/GenshinElementImgs/hydro.svg":y,"../../../assets/GenshinElementImgs/pyro.svg":E}),d=r=>`https://api.ambr.top/assets/UI/${r}.png`,t=()=>{switch(s.fullList[s.character].element){case"Wind":return n["../../../assets/GenshinElementImgs/anemo.svg"].default;case"Ice":return n["../../../assets/GenshinElementImgs/cryo.svg"].default;case"Grass":return n["../../../assets/GenshinElementImgs/dendro.svg"].default;case"Electric":return n["../../../assets/GenshinElementImgs/electro.svg"].default;case"Rock":return n["../../../assets/GenshinElementImgs/geo.svg"].default;case"Water":return n["../../../assets/GenshinElementImgs/hydro.svg"].default;case"Fire":return n["../../../assets/GenshinElementImgs/pyro.svg"].default}};return e.jsxs("div",{id:"characterPortrait",style:{borderColor:s.borderColor},onClick:s.clickFunction,children:[e.jsx("img",{className:"elementImg",alt:"elem",src:t()}),e.jsx("img",{draggable:!1,className:"characterImg",alt:"pic",src:d(s.fullList[s.character].icon)}),e.jsx("div",{children:s.fullList[s.character].name})]})}function R(s){return e.jsx("div",{id:"ownedList",children:Object.keys(s.ownedList).map(n=>{if(!s.usedList.includes(n))return e.jsx("div",{children:e.jsx(v,{fullList:s.fullList,character:n,clickFunction:()=>{s.addToTeam(n)}})},n)})})}function J(s){const[n,d]=c.useState(""),[t,r]=c.useState({1:void 0,2:void 0,3:void 0,4:void 0});console.log(Object.keys(s.teamList).includes(n));const i=a=>{for(let m=1;m<=4;m++)if(t[m]===void 0&&!Object.values(t).includes(a)){r({...t,[m]:a});break}},o=a=>{r({...t,[a]:void 0})};return Object.keys(s.teamList).includes(n),e.jsxs("div",{id:"addTeam",className:"popUp",children:[e.jsxs("div",{id:"addTeamBox",children:[e.jsx("input",{className:"searchBox",type:"text",placeholder:"New team name",onChange:a=>{d(a.target.value)}}),e.jsxs("div",{className:"team",children:[Object.keys(t).map(a=>e.jsx("div",{className:"teamSlot",onClick:()=>o(a),children:t[a]===void 0?"+":e.jsx("img",{className:"characterImg",alt:"pic",src:s.getImage(s.fullList[t[a]].icon)})},a)),e.jsx("div",{onClick:()=>{Object.values(t).includes(void 0)&&!Object.keys(s.teamList).includes(n)?console.log("nope"):(s.setTeamList({...s.teamList,[n]:t}),s.setUsedList([...s.usedList,t[1],t[2],t[3],t[4]]))},children:"Add Team"})]})]}),e.jsx("div",{id:"addTeamCharacters",children:e.jsx(R,{fullList:s.fullList,ownedList:s.ownedList,usedList:s.usedList,addToTeam:i})})]})}function U(s){const n=t=>{s.setOwnedList({...s.ownedList,[t]:s.fullList[t]})},d=t=>{const{[t]:r,...i}=s.ownedList;s.setOwnedList(i)};return e.jsx("div",{className:"popUp",children:e.jsx("div",{id:"characterList",children:Object.keys(s.fullList).map(t=>e.jsx("div",{children:e.jsx(v,{fullList:s.fullList,character:t,borderColor:Object.keys(s.ownedList).includes(t)?"darkgreen":"darkred",clickFunction:()=>{Object.keys(s.ownedList).includes(t)?d(t):n(t)}})},t))})})}const u=s=>`https://api.ambr.top/assets/UI/${s}.png`;function V(s){const[n,d]=c.useState(s.characters),[t,r]=c.useState(()=>{const l=localStorage.getItem("ownedList");return JSON.parse(l)||{}}),[i,o]=c.useState(()=>{const l=localStorage.getItem("teamList");return JSON.parse(l)||{}}),[a,m]=c.useState(()=>{const l=localStorage.getItem("usedList");return JSON.parse(l)||[]}),[h,L]=c.useState(!1),[j,x]=c.useState(!1);c.useEffect(()=>{localStorage.setItem("ownedList",JSON.stringify(t)),localStorage.setItem("teamList",JSON.stringify(i)),localStorage.setItem("usedList",JSON.stringify(a))},[t,i,a]);function f(){return e.jsx("div",{id:"teamlist",children:Object.keys(i).map(l=>e.jsxs("div",{className:"team",children:[e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:u(n[i[l][1]].icon)}),e.jsx("span",{children:n[i[l][1]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:u(n[i[l][2]].icon)}),e.jsx("span",{children:n[i[l][2]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:u(n[i[l][3]].icon)}),e.jsx("span",{children:n[i[l][3]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:u(n[i[l][4]].icon)}),e.jsx("span",{children:n[i[l][4]].name})]}),e.jsx("div",{onClick:()=>_(l),children:"Remove"})]},l))})}const _=l=>{const{[l]:g,...I}=i;o(I),a.filter(S=>!Object.values(i[l]).includes(S))};return e.jsxs("div",{className:"TeamContainer",children:[e.jsxs("div",{children:[e.jsx("button",{onClick:()=>L(!h),children:"Show Full List"}),e.jsx("button",{onClick:()=>x(!j),children:"Show Add Team"})]}),h&&e.jsx(U,{fullList:n,setFullList:d,ownedList:t,setOwnedList:r}),j&&e.jsx(J,{fullList:n,ownedList:t,teamList:i,setTeamList:o,usedList:a,setUsedList:m,getImage:u}),e.jsx(f,{})]})}function A(){const[s,n]=c.useState({}),[d,t]=c.useState(!0);if(c.useState(""),c.useState([]),c.useEffect(()=>{F().then(async i=>{n(i.data.items),t(!1)})},[]),d)return e.jsx("div",{children:"Loading..."});const r=i=>Object.keys(s).reduce((o,a)=>(i.includes(a)||(o[a]=s[a]),o),{});return e.jsx(e.Fragment,{children:e.jsx(V,{characters:()=>r(["10000005-anemo","10000005-dendro","10000005-electro","10000005-geo","10000005-hydro"])})})}b.createRoot(document.getElementById("root")).render(e.jsx(w.StrictMode,{children:e.jsxs("div",{className:"container",children:[e.jsx(C,{Links:[["../../StarRail/","Star Rail"],["../../Genshin/","Genshin Impact"],["../Genshin/Teams/","Genshin Teams"]]}),e.jsx(A,{})]})}));
