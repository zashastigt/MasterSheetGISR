import{r as c,j as e,c as E,R as C}from"./client-18074b33.js";import{_ as w,a as F,b as R,c as J,d as V,e as A,f as U,H as B,h as $}from"./header-055e0ef4.js";const d=Object.assign({"../../assets/GenshinElementImgs/anemo.svg":w,"../../assets/GenshinElementImgs/cryo.svg":F,"../../assets/GenshinElementImgs/dendro.svg":R,"../../assets/GenshinElementImgs/electro.svg":J,"../../assets/GenshinElementImgs/geo.svg":V,"../../assets/GenshinElementImgs/hydro.svg":A,"../../assets/GenshinElementImgs/pyro.svg":U});function H(h){const[a,_]=c.useState(h.characters),[l,j]=c.useState(()=>{const s=localStorage.getItem("ownedList");return JSON.parse(s)||{}}),[n,u]=c.useState(()=>{const s=localStorage.getItem("teamList");return JSON.parse(s)||{}}),[o,b]=c.useState(()=>{const s=localStorage.getItem("usedList");return JSON.parse(s)||[]}),[f,p]=c.useState(!1),[S,L]=c.useState(!1);c.useEffect(()=>{localStorage.setItem("ownedList",JSON.stringify(l)),localStorage.setItem("teamList",JSON.stringify(n)),localStorage.setItem("usedList",JSON.stringify(o))},[l,n,o]);const m=s=>`https://api.ambr.top/assets/UI/${s}.png`,T=s=>{const{[s]:i,...t}=n;u(t),o.filter(g=>!Object.values(n[s]).includes(g))},I=s=>{const i=()=>{switch(a[s.character].element){case"Wind":return d["../../assets/GenshinElementImgs/anemo.svg"].default;case"Ice":return d["../../assets/GenshinElementImgs/cryo.svg"].default;case"Grass":return d["../../assets/GenshinElementImgs/dendro.svg"].default;case"Electric":return d["../../assets/GenshinElementImgs/electro.svg"].default;case"Rock":return d["../../assets/GenshinElementImgs/geo.svg"].default;case"Water":return d["../../assets/GenshinElementImgs/hydro.svg"].default;case"Fire":return d["../../assets/GenshinElementImgs/pyro.svg"].default}};return e.jsxs("div",{id:"characterPortrait",style:{borderColor:s.borderColor},onClick:s.clickFunction,children:[e.jsx("img",{className:"elementImg",alt:"elem",src:i()}),e.jsx("img",{draggable:!1,className:"characterImg",alt:"pic",src:m(a[s.character].icon)}),e.jsx("div",{children:a[s.character].name})]})};function G(){const s=t=>{j({...l,[t]:a[t]})},i=t=>{const{[t]:g,...x}=l;j(x)};return e.jsx("div",{className:"popUp",children:e.jsx("div",{id:"characterList",children:Object.keys(a).map(t=>e.jsx("div",{children:e.jsx(I,{character:t,borderColor:Object.keys(l).includes(t)?"darkgreen":"darkred",clickFunction:()=>{Object.keys(l).includes(t)?i(t):s(t)}})},t))})})}function N(s){return e.jsx("div",{id:"ownedList",children:Object.keys(l).map(i=>{if(!o.includes(i))return e.jsx("div",{children:e.jsx(I,{character:i,clickFunction:()=>{s.addToTeam(i)}})},i)})})}function O(){return e.jsx("div",{id:"teamlist",children:Object.keys(n).map(s=>e.jsxs("div",{className:"team",children:[e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:m(a[n[s][1]].icon)}),e.jsx("span",{children:a[n[s][1]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:m(a[n[s][2]].icon)}),e.jsx("span",{children:a[n[s][2]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:m(a[n[s][3]].icon)}),e.jsx("span",{children:a[n[s][3]].name})]}),e.jsxs("div",{className:"teamSlot",children:[e.jsx("img",{alt:"characterImg",src:m(a[n[s][4]].icon)}),e.jsx("span",{children:a[n[s][4]].name})]}),e.jsx("div",{onClick:()=>T(s),children:"Remove"})]},s))})}function k(){const[s,i]=c.useState(""),[t,g]=c.useState({1:void 0,2:void 0,3:void 0,4:void 0});console.log(Object.keys(n).includes(s));const x=r=>{for(let v=1;v<=4;v++)if(t[v]===void 0&&!Object.values(t).includes(r)){g({...t,[v]:r});break}},y=r=>{g({...t,[r]:void 0})};return Object.keys(n).includes(s),e.jsxs("div",{id:"addTeam",className:"popUp",children:[e.jsxs("div",{id:"addTeamBox",children:[e.jsx("input",{className:"searchBox",type:"text",placeholder:"New team name",onChange:r=>{i(r.target.value)}}),e.jsxs("div",{className:"team",children:[Object.keys(t).map(r=>e.jsx("div",{className:"teamSlot",onClick:()=>y(r),children:t[r]===void 0?"+":e.jsx("img",{className:"characterImg",alt:"pic",src:m(a[t[r]].icon)})},r)),e.jsx("div",{onClick:()=>{Object.values(t).includes(void 0)&&!Object.keys(n).includes(s)?console.log("nope"):(u({...n,[s]:t}),b([...o,t[1],t[2],t[3],t[4]]))},children:"Add Team"})]})]}),e.jsx("div",{id:"addTeamCharacters",children:e.jsx(N,{addToTeam:x})})]})}return e.jsxs("div",{className:"TeamContainer",children:[e.jsx("button",{onClick:()=>p(!f),children:"Show Full List"}),e.jsx("button",{onClick:()=>L(!S),children:"Show Add Team"}),f&&e.jsx(G,{list:a}),S&&e.jsx(k,{}),e.jsx(O,{})]})}function P(){const[h,a]=c.useState({}),[_,l]=c.useState(!0);if(c.useState(""),c.useState([]),c.useEffect(()=>{$().then(async n=>{a(n.data.items),l(!1)})},[]),_)return e.jsx("div",{children:"Loading..."});const j=n=>Object.keys(h).reduce((u,o)=>(n.includes(o)||(u[o]=h[o]),u),{});return e.jsx(e.Fragment,{children:e.jsx(H,{characters:()=>j(["10000005-anemo","10000005-dendro","10000005-electro","10000005-geo","10000005-hydro"])})})}E.createRoot(document.getElementById("root")).render(e.jsx(C.StrictMode,{children:e.jsxs("div",{className:"container",children:[e.jsx(B,{Links:[["../../StarRail/","Star Rail"],["../../Genshin/","Genshin Impact"],["../Genshin/Teams/","Genshin Teams"]]}),e.jsx(P,{})]})}));
